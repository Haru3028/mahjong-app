# 麻雀役計算機アプリ

本格的な麻雀役計算機ウェブアプリケーションです。手牌入力から役判定、点数計算まで完全対応。

## 🀄 主な機能

### 🎯 役計算機能
- **完全役判定**: 38種類の役を完全サポート
- **点数計算**: 符・翻数から正確な点数計算
- **鳴き対応**: ポン・チー・カン（明槓・暗槓・加槓）
- **特殊役**: 国士無双、七対子、九蓮宝燈など
- **ドラ対応**: ドラ・赤ドラ完全対応

### 🎮 操作機能
- **直感的手牌入力**: クリックで簡単牌選択
- **自動理牌**: 手牌自動整列機能
- **鳴き操作**: 視覚的な鳴き面子作成
- **リアルタイム計算**: 即座に結果表示

### 🔧 技術仕様
- **フロントエンド**: Next.js 15.3.4 + React 19 + TypeScript
- **バックエンド**: Ruby 3.2.2 + WEBrick
- **スタイリング**: TailwindCSS
- **開発効率**: 統一コマンドで完全自動化

## 🚀 クイックスタート

### 前提条件
- Node.js 18+ 
- Ruby 3.2+
- npm

### インストール & 起動
```bash
# リポジトリクローン
git clone https://github.com/Haru3028/mahjong_app_frontend.git
cd mahjong_app_frontend

# 依存関係インストール
npm install

# 開発サーバー起動（フロントエンド + API同時起動）
npm run dev
```

## 🌐 アクセス

開発サーバー起動後、以下のURLにアクセス：

- **メインアプリ**: http://localhost:3002
- **役計算機**: http://localhost:3002/calculator  
- **API Health**: http://localhost:4000/api/health

## 📋 使用方法

### 1. 手牌入力
1. 牌選択エリアから牌をクリック
2. 手牌エリアに自動追加（最大14枚）
3. 不要牌は手牌エリアでクリックして削除

### 2. 鳴き操作
1. 「ポン」「チー」「カン」ボタンを選択
2. 鳴き候補から組み合わせを選択
3. 確定ボタンで鳴き面子を確定

### 3. 設定入力
- **場風・自風**: 東南西北から選択
- **ドラ表示牌**: ドラ選択ボタンから指定
- **役フラグ**: リーチ、一発、海底など

### 4. 計算実行
1. 手牌14枚完成で「計算」ボタン有効化
2. クリックで役判定・点数計算実行
3. 結果画面で詳細表示

## ⚡ 開発コマンド

```bash
# 基本開発コマンド（推奨）
npm run dev

# 安全起動（完全クリーンアップ後起動）
npm run dev:safe

# 強制起動（プロセス強制終了後起動）
npm run dev:force

# プロセスクリーンアップのみ
npm run clean

# ポート設定チェックのみ
npm run setup:ports
```

## 🔧 開発環境詳細

### ポート設定
- **フロントエンド**: 3002 (Next.js)
- **バックエンドAPI**: 4000 (Ruby WEBrick)

### 自動化機能
- **ポート競合自動解決**: 使用中ポートの自動検出・解放
- **プロセス管理**: 前回起動プロセスの自動クリーンアップ
- **同時起動**: フロントエンド・API同時起動
- **ヘルスチェック**: サーバー起動状況自動確認
